<%= simple_form_for [@portfolio, @allocation] do |f| %>

  <% if @allocation.errors.any? %>
    <div class="errors-container">
      <ul>
        <% @allocation.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <% hash = {} %>


  <div class="form-group">
    <div class="row justify-content-center" id="listener">
      <% @coins = ['Bitcoin','Ethereum','Ripple','Bitcoin-Cash','Litecoin','EOS','Cardano','Tron','Stellar','Zcash'] %>
      <% @coins.each do |currency| %>
      <div class="col-lg-4 col-md-6 text-center">
        <%= f.label "#{currency} ", class: "input-control col-form-label" %>
        <%= number_field_tag "crypto[#{currency}]", 0, min: 0, max: 10, class: 'form-control num_input' %>
       <!--  <input type="number" name="crypto[<%#= currency %>]" value="0" class= "form-control num_input" id="<%#= currency %>"> -->
        <% hash[currency] = 0 %>
      </div>
      <% end %>
    </div>
    <%= f.submit "Submit", class: "btn btn-primary mt-4 w-100" %>
    <span class="btn btn-secondary" id="update">Update chart</span>
  </div>
<% end %>
<% @coins.class %>
<% json_coins = @coins.as_json %>


<script>
  var dataHash = [];
  var dataArray = [];
</script>

<!-- Page loads: show chart with labels but zero values -->
<!-- Everytime user enters a value in input, the chart updates with the new value -->
